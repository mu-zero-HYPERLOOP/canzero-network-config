description: Motor driver board
object_dictionary:

  state:
    type: motor_state
    description: State of the motor state machine.
    access: readonly

  command:
    type: motor_command
    description: Command used by the motor state machine.
    access: extern
  
  sdc_status:
    type: sdc_status
    description: State of the motor driver SDC.
    access: readonly
  
  acceleration:
    type: d16<-10..10>
    unit: m/s²
    description: Local estimation of the acceleration.
    access: readonly
  acceleration_calibration_variance:
    type: d64<-1..1> 
    unit: m/s²
    description: Variance of the local acceleration reading
    access: readonly
  acceleration_calibration_offset:
    type: d64<-1..1>
    unit: m/s²
    description: Calibration offset of the acceleration
    access: readwrite
  error_acceleration_out_of_range:
    type: error_flag
    description: The local acceleration reading on the motor driver is out of the expected range.
    friend: acceleration
    access: readonly
  error_acceleration_calibration_failed:
    type: error_flag
    description: The calibration of the accelerometer failed.
    friend: acceleration
    access: readonly
  target_acceleration:
    type: d32<-50..50>
    unit: m/s²
    access: extern
  error_invalid_target_acceleration:
    type: error_flag
    description: The target acceleraiton is not valid.
    access: readonly


  external_acceleration:
    type: d16<-10..10>
    unit: m/s²
    description: Exterenal estimation of the acceleration
    access: extern
  external_velocity:
    type: d16<-10..10>
    unit: m/s
    description: External estimation of the velocity of the pod.
    access: readonly
  external_position:
    type: d16<-50..50>
    unit: m
    description: External estimation of the positin of the pod.
    access: extern

  
  vdc45:
    type: d16<-100..100>
    unit: V
    description: Voltage of the 45V plane.
    access: readonly
  error_level_over_vdc45:
    type: error_level
    description: The VDC on the motor driver is to high
    friend: vdc45
    access: readonly
  error_level_config_over_vdc45:
    type: error_level_config
    description: Status configuration of over voltage45.
    access: extern
  error_level_under_vdc45:
    type: error_level
    description: The VDC on the motor driver is to low.
    friend: vdc45
    access: readonly
  error_level_config_under_vdc45:
    type: error_level_config
    description: Status configuration of under voltage45.
    access: extern

  mcu_temperature:
    type: d8<-1..150>
    unit: °C
    description: Temperature of the input board
    access: readonly
  error_mcu_temperature_invalid:
    type: error_flag
    description: The motor drivers mcu temperature is not sensible.
    friend: mcu_temperature
  error_level_mcu_temperature:
    type: error_level
    description: Status of the mcu temperature.
    friend: mcu_temperature
    access: readonly
  error_level_config_mcu_temperature:
    type: error_level_config
    description: Status configuration of the mcu temperature.
    access: extern

  assertion_fault:
    type: error_flag
    description: Error flag for cassert faults.

tx_streams:
  state:
    description: State of the motor
    interval: 0ms-500ms
    mapping:
      - state
      - sdc_status
  temperatures:
    description: Temperature readings
    interval: 2500ms
    mapping:
      - mcu_temperature
  errors:
    description: All error flags from the motor.
    interval: 0ms-1000ms
    mapping:
      - error_acceleration_out_of_range
      - error_level_over_vdc45
      - error_level_under_vdc45
      - error_mcu_temperature_invalid
      - error_level_mcu_temperature
      - assertion_fault

rx_streams:
  mother_board:
    motor_command:
      motor_driver_command : command





      





