
buses:
  can0:
    baudrate: 1000000
  can1:
    baudrate: 1000000

enum_types:
  # General types:
  bool_t:
    FALSE: 0
    TRUE: 1
  # Used for error flags
  error_flag:
    OK : 0
    ERROR : 1
  # SDC status type
  sdc_status:
    OPEN: 0
    CLOSED: 1
  # PDU 12 or 24V
  pdu_channel_control:
    OFF : 0
    ON : 1
  pdu_channel_status:
    OFF : 0
    ON : 1
    SHORT_CIRCUIT : 3
  # Global State Machine
  global_state:
    INIT: ~
    IDLE: ~
    DISCONNECTING : ~
    PRECHARGE : ~
    READY: ~
    START_LEVITATION : ~
    LEVITATION_STABLE: ~
    START_GUIDANCE : ~
    GUIDANCE_STABLE : ~
    ACCELERATION : ~
    CRUISING : ~
    DECELERATION : ~
    STOP_LEVITATION: ~
  global_command:
    NONE: ~
    PRECHARGE: ~
    DISCONNECT: ~
    START_LEVITATION: ~
    START_PROPULSION: ~
    STOP_PROPULSION: ~
    STOP_LEVITATION: ~
    ABORT: ~
    MANUAL_CONTROL: ~
    EMERGENCY: ~
  # MLU State Machine types
  mlu_state:
    INIT: ~
    IDLE: ~
    PRECHARGE: ~
    READY: ~
    START : ~
    CONTROL : ~
    STOP : ~
  mlu_command:
    NONE: ~
    PRECHARGE: ~
    START: ~
    STOP: ~
    ABORT: ~
    DISCONNECT: ~

  # MGU State Machine types
  mgu_state:
    INIT: ~
    IDLE: ~
    PRECHARGE: ~
    READY: ~
    START : ~
    CONTROL : ~
    STOP : ~
  mgu_command:
    NONE: ~
    PRECHARGE: ~
    START: ~
    STOP: ~
    STOP: ~
    DISCONNECT: ~
  # Motor State Machine types
  motor_state:
    INIT: ~
    IDLE: ~
    PRECHARGE: ~
    READY: ~
    START : ~
    CONTROL : ~
    STOP : ~
    MANUAL : ~
    ERROR: ~
  motor_command:
    NONE: ~
    PRECHARGE: ~
    ACCELERATE: ~
    DECELERATE: ~
    STOP: ~
    DISCONNECT: ~
    MANUAL_CONTROL: ~
  input_board_state:
    INIT: ~
    RUNNING : ~
  pdu_state:
    INIT: ~
    RUNNING : ~

struct_types:
  mlu_pid_values:
    p_value : d21<-100..100>
    i_value : d21<-100..100>
    d_value : d21<-100..100>
  mgu_pid_values:
    p_value : d21<-100..100>
    i_value : d21<-100..100>
    d_value : d21<-100..100>
  motor_pid_values:
    p_value : d21<-100..100>
    i_value : d21<-100..100>
    d_value : d21<-100..100>

nodes: 
  mlu1:
    description: Modular Levitation Unit 1
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        description: Control Information of the MLU.
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-10s
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command

  mlu2:
    description: Modular Levitation Unit 2
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        description: Control Information of the MLU.
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command


  mlu3:
    description: Modular Levitation Unit 1
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        description: Control Information of the MLU.
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command

  mlu4:
    description: Modular Levitation Unit 1
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        description: Control Information of the MLU.
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command

  mlu5:
    description: Modular Levitation Unit 1
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        description: Control Information of the MLU.
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command

  mlu6:
    description: Modular Levitation Unit 1.
    object_dictionary:
      # State machine & Control
      state:
        type: mlu_state
        description: state of the mlu
      command:
        type: mlu_command
        description: Command that gets forwarded to the MLU. state machine.
      # Control-Configuration
      control_config:
        type: mlu_pid_values
        description: control config of the mlu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Control Debug
      air_gap:
        type: d32<0..20>
        unit: mm
        description: air gap of the mlu
      target_force:
        type: d16<0..100>
        unit: N
        description: control target force
      # Power estimation
      dc_current:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnets.
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by the MLU.#
      # Temperatures
      magnet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the magnet
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the Mosfets
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for a 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for a 45V under voltage.
      error_magnet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the magnets.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for a mcu over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for a over temperature of the MOSFETs.
      error_control_failure:
        type: error_flag
        description: Error flag for a levitation control failure.
      warn_magnet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the magnets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfets.
    tx_streams:
      state:
        description: State of the MLU
        interval: 0ms-500ms
        mapping:
          - state
          - command
      control_info:
        interval: 100ms
        mapping: 
          - air_gap
          - target_force
      power_estimation:
        description: Power estimation of the MLU.
        interval: 1000ms
        mapping: 
          - dc_current
          - power_estimation
      temperatures:
        description: Temperatures measured by the MLU.
        interval: 2500ms
        mapping: 
          - magnet_temperature
          - mcu_temperature
          - mofset_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MLU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_magnet_over_temperature
          - error_mcu_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - warn_magnet_over_temperature
          - warn_mcu_over_temperature
          - warn_mosfet_over_temperature
    rx_streams:
      master:
        mlu_control:
          mlu_command: command

  mgu1: 
    description: Modular Guidance Unit 1 (Front)
    object_dictionary:
      # State Machine & Control
      state:
        type: mgu_state
        description: state of the mgu
      command:
        type: mgu_command
        description: Command forwarded to the MGU state machine.
      # Control-Configuration
      control_config:
        type: mgu_pid_values
        description: control config of the mgu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Airgaps
      air_gap_starboard:
        type: d16<0..20>
        unit: m
        description: Air gap of the mgu (left in direction of travel).
      air_gap_port:
        type: d16<0..20>
        unit: m
        description: Air gap of the mgu (right in direction of travel).
      # Control Debug Information
      target_force_starboard:
        type: d16<0..100>
        unit: N
        description: Target force starboard (left in direction of travel)
      target_force_port:
        type: d16<0..100>
        unit: N
        description: Target force port (right in direction of travel).
      # Power estimation
      dc_current_starboard:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnet starboard (left in direction of travel).
      dc_current_port:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnet port (right in direction of travel).
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by both guidance magnets.
      # Temperatures
      magnet_temperature_starboard:
        type: d8<-1..150>
        description: Temperature of the magnet starboard (left in direction of travel).
      magnet_temperature_port:
        type: d8<-1..150>
        description: Temperature of the magnet port (right in direction of travel).
      mcu_temperature:
        type: d8<-1..150>
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        description: Temperature of the mosfets.
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for 45V under voltage.
      error_control_error:
        type: error_flag
        description: Error flag for failures of the guidance control
      error_magnet_over_temperature_starboard:
        type: error_flag
        description: Error flag for a over temperature of the starboard magnet (left side in direction of travel).
      error_magnet_over_temperature_port:
        type: error_flag
        description: Error flag for a over temperature of the port magnet (right side in direction of travel).
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for mosfet over temperature.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for mcu over temperatures.
      warn_magnet_over_temperature_starboard:
        type: error_flag
        description: Warning, which indicates a high temperature of the starboard magnet.
      warn_magnet_over_temperature_port:
        type: error_flag
        description: Warning, which indicates a high temperature of the port magnet.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the driver mosfets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.

    tx_streams:
      state:
        description : Current state of the MGU.
        interval : 0ms-500ms
        mapping:
          - state
          - command
      air_gaps:
        description: Air gaps starboard and port. (also includes target forces)
        interval: 100ms
        mapping:
          - air_gap_starboard
          - air_gap_port
          - target_force_starboard
          - target_force_port
      power_estimation:
        description: control data of the mgu (right)
        interval: 1000ms
        mapping:
          - dc_current_starboard
          - dc_current_port
          - power_estimation
      temperatures:
        description: Temperatures measured by the MGU.
        interval: 2500ms
        mapping:
          - magnet_temperature_starboard
          - magnet_temperature_port
          - mcu_temperature
          - mosfet_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MGU.
        interval: 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_control_error
          - error_magnet_over_temperature_starboard
          - error_magnet_over_temperature_port
          - error_mosfet_over_temperature
          - error_mcu_over_temperature
          - warn_magnet_over_temperature_starboard
          - warn_magnet_over_temperature_port
          - warn_mosfet_over_temperature
          - warn_mcu_over_temperature
    rx_streams:
      master:
        mgu_control:
          mgu_command: command

  mgu2: 
    description: Modular Guidance Unit 2 (Back)
    object_dictionary:
      # State Machine & Control
      state:
        type: mgu_state
        description: state of the mgu
      command:
        type: mgu_command
        description: Command forwarded to the MGU state machine.
      # Control-Configuration
      control_config:
        type: mgu_pid_values
        description: control config of the mgu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC switch.
      # Airgaps
      air_gap_starboard:
        type: d16<0..20>
        unit: m
        description: Air gap of the mgu (left in direction of travel).
      air_gap_port:
        type: d16<0..20>
        unit: m
        description: Air gap of the mgu (right in direction of travel).
      # Control Debug Information
      target_force_starboard:
        type: d16<0..100>
        unit: N
        description: Target force starboard (left in direction of travel)
      target_force_port:
        type: d16<0..100>
        unit: N
        description: Target force port (right in direction of travel).
      # Power estimation
      dc_current_starboard:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnet starboard (left in direction of travel).
      dc_current_port:
        type: d16<-10..50>
        unit: A
        description: DC-Current through the magnet port (right in direction of travel).
      power_estimation:
        type: d16<0..1000>
        unit: W
        description: Power consumed by both guidance magnets.
      # Temperatures
      magnet_temperature_starboard:
        type: d8<-1..150>
        description: Temperature of the magnet starboard (left in direction of travel).
      magnet_temperature_port:
        type: d8<-1..150>
        description: Temperature of the magnet port (right in direction of travel).
      mcu_temperature:
        type: d8<-1..150>
        description: Temperature of the MCU.
      mosfet_temperature:
        type: d8<-1..150>
        description: Temperature of the mosfets.
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for 45V under voltage.
      error_control_error:
        type: error_flag
        description: Error flag for failures of the guidance control
      error_magnet_over_temperature_starboard:
        type: error_flag
        description: Error flag for a over temperature of the starboard magnet (left side in direction of travel).
      error_magnet_over_temperature_port:
        type: error_flag
        description: Error flag for a over temperature of the port magnet (right side in direction of travel).
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for mosfet over temperature.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for mcu over temperatures.
      warn_magnet_over_temperature_starboard:
        type: error_flag
        description: Warning, which indicates a high temperature of the starboard magnet.
      warn_magnet_over_temperature_port:
        type: error_flag
        description: Warning, which indicates a high temperature of the port magnet.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the driver mosfets.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.
    tx_streams:
      state:
        description : Current state of the MGU.
        interval : 0ms-500ms
        mapping:
          - state
      air_gaps:
        description: Air gaps starboard and port. (also includes target forces)
        interval: 100ms
        mapping:
          - air_gap_starboard
          - air_gap_port
          - target_force_starboard
          - target_force_port
      power_estimation:
        description: control data of the mgu (right)
        interval: 1000ms
        mapping:
          - dc_current_starboard
          - dc_current_port
          - power_estimation
      temperatures:
        description: Temperatures measured by the MGU.
        interval: 2500ms
        mapping:
          - magnet_temperature_starboard
          - magnet_temperature_port
          - mcu_temperature
          - mosfet_temperature
      sdc_status:
        description: State of the SDC-Switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: Error flags of the MGU.
        interval : 0ms-1000ms
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_control_error
          - error_magnet_over_temperature_starboard
          - error_magnet_over_temperature_port
          - error_mosfet_over_temperature
          - error_mcu_over_temperature
          - warn_magnet_over_temperature_starboard
          - warn_magnet_over_temperature_port
          - warn_mosfet_over_temperature
          - warn_mcu_over_temperature
    rx_streams:
      master:
        mgu_control:
          mgu_command: command



  motor_driver: 
    description: Motor driver board for the DSLIM
    object_dictionary:
      # State Machine & Control
      state:
        type: motor_state
        description: state of the motor
      command:
        type: motor_command
        description: Command forwarded to the motor state machine.
      target_acceleration:
        type: d8<-1..1>
        description: Externally controlled target acceleration.
      # Control-Configuration
      control_config:
        type: motor_pid_values
        description: control config of the mgu
      # SDC-Switch
      sdc_status:
        type: sdc_status
        description: State of the SDC-switch of the motor driver
      # Temperatures
      motor_temperature_starboard:
        type: d8<-1..150>
        description: Temperature of the motor
      motor_temperature_port:
        type: d8<-1..150>
        description: Temperature of the motor
      # Local state estimation
      local_acceleration: 
        type: d16<-10..10>
        description: Local acceleration estimation by the IMU on the motor driver board.
      # External state estimation
      position_estimation:
        type: d16<-100..100>
        unit: m
        description: External estimation of the position.
      velocity_estimation:
        type: d16<-10..10>
        unit: m/s
        description: External estimation of the velocity.
      acceleration_estimation:
        type: d16<-5..5>
        unit: m/s²
        description: External estimation of the acceleration.
      # Power estimation
      dc_current:
        type: d16<-100..100>
        unit: A
        description: DC-current through the motor
      power_estimation:
        type: d16<0..2000>
        unit: W
        description: Current power consumption of the motor.
      # Errors
      error_45V_over_voltage:
        type: error_flag
        description: Error flag for 45V over voltage.
      error_45V_under_voltage:
        type: error_flag
        description: Error flag for 45V under voltage.
      error_dslim_over_temperature:
        type: error_flag
        description: Error flag for DSLIM over temperature.
      error_mosfet_over_temperature:
        type: error_flag
        description: Error flag for mosfet over temperature.
      error_control_failure:
        type: error_flag
        description: Error flag indicating any failure of the motor control
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag indiciating over temperature of the mcu.
      warn_dslim_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the dslim.
      warn_mosfet_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mosfet temperature.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature of the mcu.

    tx_streams:
      # Current state 
      state:
        description : state of the motor (also includes the current acceleration estimation).
        interval : 0ms-500ms
        mapping:
          - state
          - local_acceleration
      # Temperature reading of the motor driver board
      temperatures:
        description: temperature of the motor
        interval: 2500ms
        mapping:
          - motor_temperature_starboard
          - motor_temperature_port
      # Power estmation of the dslim
      power_estimation:
        description: Current power estimation of the motor
        interval: 1000ms
        mapping:
          - dc_current
          - power_estimation
      sdc_status:
        description: Status of the SDC.
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      # All error flags
      errors:
        description: All error flags from the Motor driver board.
        interval: 0ms-1000ms # Should be [0... if interval ranges are implemented
        mapping:
          - error_45V_over_voltage
          - error_45V_under_voltage
          - error_dslim_over_temperature
          - error_mosfet_over_temperature
          - error_control_failure
          - error_mcu_over_temperature
          - warn_dslim_over_temperature
          - warn_mosfet_over_temperature
          - warn_mcu_over_temperature
    rx_streams:
      master:
        motor_control:
          motor_command: command

  pdu24:
    description: power distribution unit 24V
    object_dictionary:
      state:
        type : pdu_state
        description: Current state of the pdu.
      # Low Power Channel 1
      lp_channel1_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel1_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel1_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 2
      lp_channel2_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel2_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel2_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 3
      lp_channel3_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel3_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel3_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 4
      lp_channel4_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel4_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel4_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 5
      lp_channel5_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel5_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel5_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 6
      lp_channel6_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel6_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel6_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 7
      lp_channel7_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel7_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel7_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 8
      lp_channel8_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel8_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel8_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 9
      lp_channel9_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel9_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel9_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 10
      lp_channel10_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel10_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel10_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # High Power Channel 1
      hp_channel1_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      hp_channel1_status:
        type: pdu_channel_status
        description: Current state of the channel
      hp_channel1_current:
        type: d8<0..10>
        unit: °A
        description: Current drawn from the channel
      # High Power Channel 2
      hp_channel2_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      hp_channel2_status:
        type: pdu_channel_status
        description: Current state of the channel
      hp_channel2_current:
        type: d8<0..10>
        unit: °A
        description: Current drawn from the channel
      # High Power Channel 3
      hp_channel3_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      hp_channel3_status:
        type: pdu_channel_status
        description: Current state of the channel
      hp_channel3_current:
        type: d8<0..10>
        unit: °A
        description: Current drawn from the channel
      # High Power Channel 4
      hp_channel4_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      hp_channel4_status:
        type: pdu_channel_status
        description: Current state of the channel
      hp_channel4_current:
        type: d8<0..10>
        unit: °A
        description: Current drawn from the channel
      total_current:
        type: d16<0..80>
        unit: °A
        description: Sum over all channel currents.
      power_estimation:
        type: d16<0..2000>
        unit: W
        description: Estimated power consumption across all channels.
      # MISC
      sdc_status:
        type: sdc_status
        description: Current state of the SDC (closed or open)
      mcu_temperature:
        type: d8<0..200>
        unit: °C
        description: Temperature of the MCU.
      # Errors
      mcu_over_temperature:
        type: error_flag
        description: Error flag for over temperature of the mcu.
    tx_streams:
      # Channel Currents
      channel_currents_1:
        description : Currents of the channel [lp1-lp8]
        interval : 250ms
        mapping:
          - lp_channel1_current
          - lp_channel2_current
          - lp_channel3_current
          - lp_channel4_current
          - lp_channel5_current
          - lp_channel6_current
          - lp_channel7_current
          - lp_channel8_current
      channel_currents_2:
        description : Currents of the channels [lp9-lp12, hp1-hp4]
        interval : 250ms
        mapping:
          - lp_channel9_current
          - lp_channel10_current
          - hp_channel1_current
          - hp_channel2_current
          - hp_channel3_current
          - hp_channel4_current
      power_estimation:
        description : Contains estimated power consumption and total current.
        interval : 1000ms
        mapping:
          - total_current
          - power_estimation
      channel_status:
        description: Status of all power channels (also includes the SDC status).
        interval : 0ms-3000ms 
        mapping:
          - lp_channel1_status
          - lp_channel2_status
          - lp_channel3_status
          - lp_channel4_status
          - lp_channel5_status
          - lp_channel6_status
          - lp_channel7_status
          - lp_channel8_status
          - lp_channel9_status
          - lp_channel10_status
          - hp_channel1_status
          - hp_channel2_status
          - hp_channel3_status
          - hp_channel4_status
          - sdc_status
          - mcu_over_temperature
    rx_streams:
      master:
        pdu24_control:
          pdu24_lp_channel1_control : lp_channel1_control
          pdu24_lp_channel2_control : lp_channel2_control
          pdu24_lp_channel3_control : lp_channel3_control
          pdu24_lp_channel4_control : lp_channel4_control
          pdu24_lp_channel5_control : lp_channel5_control
          pdu24_lp_channel6_control : lp_channel6_control
          pdu24_lp_channel7_control : lp_channel7_control
          pdu24_lp_channel8_control : lp_channel8_control
          pdu24_lp_channel9_control : lp_channel9_control
          pdu24_lp_channel10_control : lp_channel10_control
          pdu24_hp_channel1_control : hp_channel1_control
          pdu24_hp_channel2_control : hp_channel2_control
          pdu24_hp_channel3_control : hp_channel3_control
          pdu24_hp_channel4_control : hp_channel4_control

  pdu12:
    description: power distribution unit 12V
    object_dictionary:
      state:
        type : pdu_state
        description: Current state of the pdu
      # Low Power Channel 1
      lp_channel1_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel1_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel1_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 2
      lp_channel2_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel2_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel2_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 3
      lp_channel3_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel3_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel3_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 4
      lp_channel4_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel4_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel4_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 5
      lp_channel5_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel5_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel5_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 6
      lp_channel6_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel6_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel6_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 7
      lp_channel7_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel7_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel7_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 8
      lp_channel8_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel8_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel8_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 9
      lp_channel9_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel9_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel9_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 10
      lp_channel10_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel10_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel10_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 11
      lp_channel11_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel11_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel11_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 12
      lp_channel12_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel12_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel12_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 13
      lp_channel13_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel13_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel13_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel
      # Low Power Channel 14
      lp_channel14_control:
        type: pdu_channel_control
        description: Controlls where or not the channel is turned on
      lp_channel14_status:
        type: pdu_channel_status
        description: Current state of the channel
      lp_channel14_current:
        type: d8<0..3>
        unit: °A
        description: Current drawn from the channel

      total_current:
        type: d16<0..80>
        unit: °A
        description: Sum over all channel currents.
      power_estimation:
        type: d16<0..2000>
        unit: W
        description: Estimated power consumption across all channels.
      # MISC
      sdc_status:
        type: sdc_status
        description: Current state of the SDC (closed or open)
      mcu_temperature:
        type: d8<0..200>
        unit: °C
        description: Temperature of the MCU.
      # Errors
      mcu_over_temperature:
        type: error_flag
        description: Error flag for over temperature of the mcu.
    tx_streams:
      state:
        description: Current state of the pdu
        interval: 0ms-500ms
        mapping:
          - state
      # Channel Currents
      channel_currents_1:
        description : Currents of the channel [lp1-lp8]
        interval : 250ms
        mapping:
          - lp_channel1_current
          - lp_channel2_current
          - lp_channel3_current
          - lp_channel4_current
          - lp_channel5_current
          - lp_channel6_current
          - lp_channel7_current
          - lp_channel8_current
      channel_currents_2:
        description : Currents of the channels [lp9-lp12, hp1-hp4]
        interval : 250ms
        mapping:
          - lp_channel9_current
          - lp_channel10_current
          - lp_channel11_current
          - lp_channel12_current
          - lp_channel13_current
          - lp_channel14_current
      power_estimation:
        description : Contains estimated power consumption and total current.
        interval : 1000ms
        mapping:
          - total_current
          - power_estimation
      channel_status:
        description: Status of all power channels (also includes the SDC status).
        interval : 0ms-3000ms # Should be [0...] if interval ranges are implemented
        mapping:
          - lp_channel1_status
          - lp_channel2_status
          - lp_channel3_status
          - lp_channel4_status
          - lp_channel5_status
          - lp_channel6_status
          - lp_channel7_status
          - lp_channel8_status
          - lp_channel9_status
          - lp_channel10_status
          - lp_channel11_status
          - lp_channel12_status
          - lp_channel13_status
          - lp_channel14_status
          - sdc_status
          - mcu_over_temperature
    rx_streams:
      master:
        pdu12_control:
          pdu12_lp_channel1_control : lp_channel1_control
          pdu12_lp_channel2_control : lp_channel2_control
          pdu12_lp_channel3_control : lp_channel3_control
          pdu12_lp_channel4_control : lp_channel4_control
          pdu12_lp_channel5_control : lp_channel5_control
          pdu12_lp_channel6_control : lp_channel6_control
          pdu12_lp_channel7_control : lp_channel7_control
          pdu12_lp_channel8_control : lp_channel8_control
          pdu12_lp_channel9_control : lp_channel9_control
          pdu12_lp_channel10_control : lp_channel10_control
          pdu12_lp_channel11_control : lp_channel11_control
          pdu12_lp_channel12_control : lp_channel12_control
          pdu12_lp_channel13_control : lp_channel13_control
          pdu12_lp_channel14_control : lp_channel14_control


  input_board: 
    description: input board (teensy 4.1)
    object_dictionary:
      state:
        type : input_board_state
        description: Current state of the input board
      # State estimation
      position_estimation:
        type : d16<-100..100>
        description: estimated position of the pod
        unit : m
      velocity_estimation:
        type : d16<-10..10>
        description: estimated velocity of the pod
        unit: m/s
      acceleration_estimation:
        type : d16<-5...5>
        unit: m/s²
        description: estimated acceleration of the pod
      # SDC Status
      sdc_status: 
        type: sdc_status
        description: Status of the SDC-Switch
      # Temperatures
      mcu_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the input board
      cooling_cycle_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the cooling cycle
      battery_24V_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature of the 24V-Battery
      ebox_temperature:
        type: d8<-1..150>
        unit: °C
        description: Temperature inside of the ebox.
      # Pressure
      cooling_cycle_pressure:
        type: d8<-1..9>
        unit: bar
      # Fiducial
      fiducial_count1:
        type: i16
      fiducial_count2:
        type: i16
      # Errors
      error_invalid_position_estimation:
        type: error_flag
        description: Error flag for invalid position estimation. 
      error_invalid_position:
        type: error_flag
        description: Error flag that indicates a invalid position of the pod.
      error_invalid_velocity_profile:
        type: error_flag
        description: Error flag that indicates that the velocity is out of range given the velocity profile.
      error_invalid_acceleration_profile:
        type: error_flag
        description: Error flag that indicates that the acceleration is out of range given the acceleration profile.
      error_battery_over_temperature:
        type: error_flag
        description: Error flag for Battery over temperature.
      error_cooling_cycle_over_pressure:
        type: error_flag
        description: Error flag for over pressure within the cooling cycle.
      error_cooling_cycle_low_pressure:
        type: error_flag
        description: Error flag for low pressure within the cooling cycle.
      error_mcu_over_temperature:
        type: error_flag
        description: Error flag for over temperature of the mcu.
      error_ebox_over_temperature:
        type: error_flag
        description: Error flag for over temperature within the ebox.
      error_cooling_cycle_over_temperature:
        type: error_flag
        description: Error flag for over temperature within the cooling cycle.
      warn_invalid_position_estimation:
        type: error_flag
        description: Warning, which indicates a invalid position estimation
      warn_invalid_position:
        type: error_flag
        description: Warning, which indicates a invalid position.
      warn_invalid_velocity_profile:
        type: error_flag
        description: Warning, which indicates a invalid velocity profile
      warn_invalid_acceleration_profile:
        type: error_flag
        description: Warning, which indicates a invalid acceleration profile.
      warn_battery_over_temperature:
        type: error_flag
        description: Warning, which indicates a a high battery temperature.
      warn_cooling_cycle_over_pressure:
        type: error_flag
        description: Warning, which indicates a high pressure in the cooling cycle.
      warn_cooling_cycle_low_pressure:
        type: error_flag
        description: Warning which indicates a low pressure in the cooling cycle.
      warn_mcu_over_temperature:
        type: error_flag
        description: Warning which indicates a high mcu temperature.
      warn_ebox_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature in the ebox.
      warn_cooling_cycle_over_temperature:
        type: error_flag
        description: Warning, which indicates a high temperature in the cooling cycle.
    tx_streams:
      state_estimation:
        description : Current estimation of the pods position, velocity and acceleration
        interval : 100ms 
        mapping:
          - position_estimation
          - velocity_estimation
          - acceleration_estimation
      safety_sensors:
        description: Current reading from the safety sensors. (also contains the state of the SDC).
        interval: 3000ms 
        mapping:
          - mcu_temperature
          - cooling_cycle_temperature
          - battery_24V_temperature
          - ebox_temperature
          - cooling_cycle_pressure
      sdc_status:
        description: Status of the SDC switch
        interval: 0ms-1000ms
        mapping:
          - sdc_status
      errors:
        description: All error flags
        interval: 0ms-1000ms
        mapping:
          - error_mcu_over_temperature
          - error_invalid_position_estimation
          - error_invalid_position
          - error_invalid_velocity_profile
          - error_invalid_acceleration_profile
          - error_battery_over_temperature
          - error_cooling_cycle_over_pressure
          - error_cooling_cycle_low_pressure
          - error_ebox_over_temperature
          - error_cooling_cycle_over_temperature
          - warn_invalid_position_estimation
          - warn_invalid_position
          - warn_invalid_velocity_profile
          - warn_invalid_acceleration_profile
          - warn_battery_over_temperature
          - warn_cooling_cycle_over_pressure
          - warn_cooling_cycle_low_pressure
          - warn_mcu_over_temperature
          - warn_ebox_over_temperature
          - warn_cooling_cycle_over_temperature

  master:
    description: Master node of the network (Raspberry PI)
    object_dictionary:
      # State Machine & Control
      global_state:
        type: global_state
        description: global state of the system.
      command:
        type: global_command
        description: Command forwarded to the global state machine.
      mlu_command:
        type: mlu_command
        descriptin: Broadcasted to the MLUs
      mgu_command:
        type: mgu_command
        description: Broadcasted to the MGUs
      motor_command:
        type: motor_command
        description: Broadcasted to the motor driver board.
      # Control-Configuration
      sync_mlu_pid_values:
        type: bool_t
        description: If true synchronizes control pid values of all MLUs from mlu_control_conifg.
      mlu_pid_values:
        type: mlu_pid_values
        description: Synchronized MLU PID values.
      sync_mgu_pid_values:
        type: bool_t
        description: If true synchronizes control pid values of all MGUs from mgu_control_config.
      mgu_pid_values:
        type: mgu_pid_values
        description: Synchronized MGU PID values.
      # Temperatures
      cpu_temperature:
        type: d8<-1..150>
        description: Temperature of the CPU.
      # SDC Status
      sdc_status:
        type: sdc_status
        description: Combination of all sdc_state variables closed iff. all sdc switches are closed.
      # Power estimation
      power_estimation:
        type: d32<0..5000>
        unit: W
        description: Total power consumption of the System.
      power_estimation24:
        type: d32<0..5000>
        unit: W
        description: Total power consumption of the 24V-System.
      power_estimation48:
        type: d32<0..5000>
        unit: W
        description: Total power consumption of the 45V-System.
      # PDU states
      pdu12_state:
        type: pdu_state
      pdu24_state:
        type: pdu_state
      # Input board state
      input_board_state:
        type: input_board_state
      # 12V-PDU Control
      pdu12_lp_channel1_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel2_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel3_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel4_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel5_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel6_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel7_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel8_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel9_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel10_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel11_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel12_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel13_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu12_lp_channel14_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      # 24V-PDU Control
      pdu24_lp_channel1_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel2_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel3_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel4_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel5_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel6_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel7_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel8_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel9_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel10_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel11_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_lp_channel12_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_hp_channel1_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_hp_channel2_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_hp_channel3_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.
      pdu24_hp_channel4_control:
        type: pdu_channel_control
        description : Controlls the PDU Channel.

    tx_streams:
      global_state:
        description: Broadcast of the global state.
        interval: 0ms-500ms
        mapping:
          - global_state
          - command
          - sdc_status
      mlu_control:
        description: Broacast of the mlu commands
        interval: 0ms-500ms
        mapping:
          - mlu_command
      mgu_control:
        description: Broadcast of the mgu commands
        interval: 0ms-500ms
        mapping:
          - mgu_command
      motor_control:
        description: Broadcast of the motor commands
        interval: 0ms-500ms
        mapping:
          - motor_command
      mlu_pid_sync:
        description: Distributes pid values to all mlus
        interval: 0ms-10s
        mapping: 
          - mlu_pid_values
      pdu12_control:
        description: Control stream for the 12V-PDU
        interval: 0ms-500ms
        mapping:
          - pdu12_lp_channel1_control
          - pdu12_lp_channel2_control
          - pdu12_lp_channel3_control
          - pdu12_lp_channel4_control
          - pdu12_lp_channel5_control
          - pdu12_lp_channel6_control
          - pdu12_lp_channel7_control
          - pdu12_lp_channel8_control
          - pdu12_lp_channel9_control
          - pdu12_lp_channel10_control
          - pdu12_lp_channel11_control
          - pdu12_lp_channel12_control
          - pdu12_lp_channel13_control
          - pdu12_lp_channel14_control
      pdu24_control:
        description: Control stream for the 24V-PDU
        interval: 0ms-500ms
        mapping:
          - pdu24_lp_channel1_control
          - pdu24_lp_channel2_control
          - pdu24_lp_channel3_control
          - pdu24_lp_channel4_control
          - pdu24_lp_channel5_control
          - pdu24_lp_channel6_control
          - pdu24_lp_channel7_control
          - pdu24_lp_channel8_control
          - pdu24_lp_channel9_control
          - pdu24_lp_channel10_control
          - pdu24_lp_channel11_control
          - pdu24_lp_channel12_control
          - pdu24_hp_channel1_control
          - pdu24_hp_channel2_control
          - pdu24_hp_channel3_control
          - pdu24_hp_channel4_control
    rx_streams:
      # Receive from Input Board
      input_board:
        state:
          state: input_board_state
        state_estimation:
          position_estimation: position
          velocity_estimation: velocity
          acceleration_estimation: acceleration
        errors:
          error_mcu_over_temperature: error_input_board_mcu_over_temperature
          error_invalid_position_estimation : error_invalid_position_estimation
          error_invalid_position :  error_invalid_position
          error_invalid_velocity_profile : error_invalid_velocity_profile
          error_invalid_acceleration_profile : error_invalid_acceleration_profile
          error_battery_over_temperature : error_battery_over_voltage
          error_cooling_cycle_over_pressure : error_cooling_cycle_over_pressure
          error_cooling_cycle_low_pressure : error_cooling_cycle_low_pressure
          error_ebox_over_temperature : error_ebox_over_temperature
          error_cooling_cycle_over_temperature : error_cooling_cycle_over_temperature
          warn_invalid_position_estimation : warn_invalid_position_estimation
          warn_invalid_position : warn_invalid_position
          warn_invalid_velocity_profile : warn_invalid_velocity_profile
          warn_invalid_acceleration_profile : warn_invalid_acceleration_profile
          warn_battery_over_temperature : warn_battery_over_temperature
          warn_cooling_cycle_over_pressure : warn_cooling_cycle_over_pressure
          warn_cooling_cycle_low_pressure : warn_cooling_cycle_low_pressure
          warn_mcu_over_temperature : warn_input_board_mcu_over_temperature
          warn_ebox_over_temperature : warn_ebox_over_temperature
          warn_cooling_cycle_over_temperature : warn_cooling_cycle_over_temperature
        sdc_status:
          sdc_status: input_board_sdc_status
      # Receive from PDUs
      pdu12:
        state:
          state: pdu12_state
        channel_status:
          lp_channel1_status: pdu12_lp_channel1_status
          lp_channel2_status: pdu12_lp_channel2_status
          lp_channel3_status: pdu12_lp_channel3_status
          lp_channel4_status: pdu12_lp_channel4_status
          lp_channel5_status: pdu12_lp_channel5_status
          lp_channel6_status: pdu12_lp_channel6_status
          lp_channel7_status: pdu12_lp_channel7_status
          lp_channel8_status: pdu12_lp_channel8_status
          lp_channel9_status: pdu12_lp_chanel9_status
          lp_channel10_status: pdu12_lp_channel10_status
          lp_channel11_status: pdu12_lp_channel11_status
          lp_channel12_status: pdu12_lp_channel12_status
          lp_channel13_status: pdu12_lp_channel13_status
          lp_channel14_status : pdu12_lp_channel14_status
          sdc_status: pdu12_sdc_status
          mcu_over_temperature: error_pdu12_mcu_over_temperature
        power_estimation:
          power_estimation: pdu12_power_estimation
      pdu24:
        state:
          state : pdu24_state
        channel_status:
          lp_channel1_status: pdu24_lp_channel1_status
          lp_channel2_status: pdu24_lp_channel2_status
          lp_channel3_status: pdu24_lp_channel3_status
          lp_channel4_status: pdu24_lp_channel4_status
          lp_channel5_status: pdu24_lp_channel5_status
          lp_channel6_status: pdu24_lp_channel6_status
          lp_channel7_status: pdu24_lp_channel7_status
          lp_channel8_status: pdu24_lp_channel8_status
          lp_channel9_status: pdu24_lp_chanel9_status
          lp_channel10_status: pdu24_lp_channel10_status
          hp_channel1_status: pdu24_hp_channel1_status
          hp_channel2_status: pdu24_hp_channel2_status
          hp_channel3_status: pdu24_hp_channel3_status
          hp_channel4_status: pdu24_hp_channel4_status
          sdc_status: pdu24_sdc_status
          mcu_over_temperature: error_pdu24_mcu_over_temperature
        power_estimation:
          power_estimation: pdu24_power_estimation
      # Receive from Motor Driver
      motor_driver:
        errors:
          error_45V_over_voltage: error_motor_driver_45V_over_voltage
          error_45V_under_voltage: error_motor_driver_45V_under_voltage
          error_dslim_over_temperature: error_dslim_over_temperature
          error_mosfet_over_temperature: error_motor_driver_mosfet_over_temperature
          error_control_failure : error_motor_control_failure
          error_mcu_over_temperature: error_motor_mcu_over_temperature
          warn_dslim_over_temperature: warn_motor_dslim_over_temperature
          warn_mosfet_over_temperature: warn_motor_mosfet_over_temperature
          warn_mcu_over_temperature: warn_motor_mcu_over_temperature
        power_estimation:
          power_estimation: motor_power_estimation
        state:
          state: motor_state
        sdc_status:
          sdc_status: motor_sdc_status
      # Receive from MGUs
      mgu1:
        errors:
          error_45V_over_voltage: error_mgu1_45V_over_voltage
          error_45V_under_voltage: error_mgu1_45V_under_voltage
          error_control_error: error_mgu1_control_error
          error_magnet_over_temperature_starboard: error_mgu1_magnet_over_temperature_starboard
          error_magnet_over_temperature_port: error_mgu1_magnet_over_temperature_port
          error_mosfet_over_temperature: error_mgu1_mosfet_over_temperature
          error_mcu_over_temperature: error_mgu1_mcu_over_temperature
          warn_magnet_over_temperature_starboard: warn_mgu1_magnet_over_temperature_starboard
          warn_magnet_over_temperature_port : warn_mgu1_magnet_over_temperature_port
          warn_mosfet_over_temperature : warn_mgu1_mosfet_over_temperature
          warn_mcu_over_temperature: warn_mgu1_mcu_over_temperature
        state:
          state: mgu1_state
        power_estimation:
          power_estimation: mgu1_power_estimation
        sdc_status:
          sdc_status: mgu1_sdc_status
      mgu2:
        errors:
          error_45V_over_voltage: error_mgu2_45V_over_voltage
          error_45V_under_voltage: error_mgu2_45V_under_voltage
          error_control_error: error_mgu2_control_error
          error_magnet_over_temperature_starboard: error_mgu2_magnet_over_temperature_starboard
          error_magnet_over_temperature_port: error_mgu2_magnet_over_temperature_port
          error_mosfet_over_temperature: error_mgu2_mosfet_over_temperature
          error_mcu_over_temperature: error_mgu2_mcu_over_temperature
          warn_magnet_over_temperature_starboard: warn_mgu2_magnet_over_temperature_starboard
          warn_magnet_over_temperature_port : warn_mgu2_magnet_over_temperature_port
          warn_mosfet_over_temperature : warn_mgu2_mosfet_over_temperature
          warn_mcu_over_temperature: warn_mgu2_mcu_over_temperature
        state:
          state: mgu2_state
        power_estimation:
          power_estimation: mgu2_power_estimation
        sdc_status:
          sdc_status: mgu2_sdc_status
      # Receive from MLUs
      mlu1:
        errors:
          error_45V_over_voltage: error_mlu1_45V_over_voltage
          error_45V_under_voltage: error_mlu1_45V_under_voltage
          error_magnet_over_temperature: error_mlu1_magnet_over_temperature
          error_mcu_over_temperature: error_mlu1_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu1_mosfet_over_temperature
          error_control_failure: error_mlu1_control_failure
          warn_magnet_over_temperature: warn_mlu1_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu1_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu1_mosfet_over_temperature
        state:
          state: mlu1_state
        power_estimation:
          power_estimation: mlu1_power_estimation
        sdc_status:
          sdc_status: mlu1_sdc_status
      mlu2:
        errors:
          error_45V_over_voltage: error_mlu2_45V_over_voltage
          error_45V_under_voltage: error_mlu2_45V_under_voltage
          error_magnet_over_temperature: error_mlu2_magnet_over_temperature
          error_mcu_over_temperature: error_mlu2_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu2_mosfet_over_temperature
          error_control_failure: error_mlu2_control_failure
          warn_magnet_over_temperature: warn_mlu2_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu2_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu2_mosfet_over_temperature
        state:
          state: mlu2_state
        power_estimation:
          power_estimation: mlu2_power_estimation
        sdc_status:
          sdc_status: mlu2_sdc_status
      mlu3:
        errors:
          error_45V_over_voltage: error_mlu3_45V_over_voltage
          error_45V_under_voltage: error_mlu3_45V_under_voltage
          error_magnet_over_temperature: error_mlu3_magnet_over_temperature
          error_mcu_over_temperature: error_mlu3_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu3_mosfet_over_temperature
          error_control_failure: error_mlu3_control_failure
          warn_magnet_over_temperature: warn_mlu3_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu3_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu3_mosfet_over_temperature
        state:
          state: mlu3_state
        power_estimation:
          power_estimation: mlu3_power_estimation
        sdc_status:
          sdc_status: mlu3_sdc_status
      mlu4:
        errors:
          error_45V_over_voltage: error_mlu4_45V_over_voltage
          error_45V_under_voltage: error_mlu4_45V_under_voltage
          error_magnet_over_temperature: error_mlu4_magnet_over_temperature
          error_mcu_over_temperature: error_mlu4_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu4_mosfet_over_temperature
          error_control_failure: error_mlu4_control_failure
          warn_magnet_over_temperature: warn_mlu4_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu4_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu4_mosfet_over_temperature
        state:
          state: mlu4_state
        power_estimation:
          power_estimation: mlu4_power_estimation
        sdc_status:
          sdc_status: mlu4_sdc_status
      mlu5:
        errors:
          error_45V_over_voltage: error_mlu5_45V_over_voltage
          error_45V_under_voltage: error_mlu5_45V_under_voltage
          error_magnet_over_temperature: error_mlu5_magnet_over_temperature
          error_mcu_over_temperature: error_mlu5_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu5_mosfet_over_temperature
          error_control_failure: error_mlu5_control_failure
          warn_magnet_over_temperature: warn_mlu5_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu5_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu5_mosfet_over_temperature
        state:
          state: mlu5_state
        power_estimation:
          power_estimation: mlu5_power_estimation
        sdc_status:
          sdc_status: mlu5_sdc_status
      mlu6:
        errors:
          error_45V_over_voltage: error_mlu6_45V_over_voltage
          error_45V_under_voltage: error_mlu6_45V_under_voltage
          error_magnet_over_temperature: error_mlu6_magnet_over_temperature
          error_mcu_over_temperature: error_mlu6_mcu_over_temperature
          error_mosfet_over_temperature: error_mlu6_mosfet_over_temperature
          error_control_failure: error_mlu6_control_failure
          warn_magnet_over_temperature: warn_mlu6_magnet_over_temperature
          warn_mcu_over_temperature: warn_mlu6_mcu_over_temperature
          warn_mosfet_over_temperature: warn_mlu6_mosfet_over_temperature
        state:
          state: mlu6_state
        power_estimation:
          power_estimation: mlu6_power_estimation
        sdc_status:
          sdc_status: mlu6_sdc_status
  gamepad:
    description: Gamepad controller node (snapshot)
    object_dictionary:
      left_trigger:
        type: d8<0..1>
        description: left trigger
      right_trigger:
        type: d8<0..1>
        description: right trigger
    tx_streams:
      input:
        description: Controller Input
        interval: 100ms
        mapping:
          - left_trigger
          - right_trigger
      

